<!DOCTYPE html>
<html lang="en"  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>
<div  class="post-form" th:fragment="postForm(action,post,_privacyTypes,_locations,submitButtonText)">
        <form th:if="post" th:action="@{${action}}" th:method="post" th:object="${post}">
            <div class="mb-3" th:classappend="${#fields.hasErrors('details')}?'has-error':''">
                <textarea rows="6" class="form-control" th:placeholder="'Writing something...'"  th:field="*{details}" required></textarea>
                <em class="text-danger" th:if="${#fields.hasErrors('details')}" th:errors="*{details}"></em>
            </div>
            <div class="mb-3" th:classappend="${#fields.hasErrors('privacy')}?'has-error':''">
                <div class="form-check form-check-inline" th:each="privacyType: ${_privacyTypes}">
                    <input class="form-check-input" type="radio" th:value="${privacyType}"  th:field="*{privacy}">
                    <label class="form-check-label" th:for="privacy" th:text="${privacyType.name}"></label>
                </div>
                <em class="text-danger" th:if="${#fields.hasErrors('privacy')}" th:errors="*{privacy}"></em>

            </div>
            <div class="form-group mb-3"  th:classappend="${#fields.hasErrors('privacy')}?'has-error':''">
                <select class="form-control" th:field="*{location}">
                    <option  th:value="0" th:text="'Select a location'" th:disabled="${post.location>0}"></option>
                    <option th:each="location: ${_locations}"  th:value="${location.id}" th:text="${location.name}"></option>
                </select>
                <em class="text-danger" th:if="${#fields.hasErrors('location')}" th:errors="*{location}"></em>
            </div>
            <div class="mb-3">
            </div>
            <button class="btn btn-primary btn-block" type="submit" th:text="${submitButtonText}"></button>

        </form>
</div>

</body>
</html>